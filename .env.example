# Environment variables for shll-agent-runner
# Copy to .env and fill in values

# Chain config
RPC_URL=https://data-seed-prebsc-1-s1.bnbchain.org:8545
# RPC_HTTP is also supported as alias of RPC_URL
CHAIN_ID=97

# Operator wallet (private key with gas, NOT the owner key)
OPERATOR_PK=0x_YOUR_OPERATOR_PRIVATE_KEY_HERE

# Contract addresses (update after redeployment)
AGENT_NFA_ADDRESS=0x827E342A9835536c03dCDC369626e1a981299f30
POLICY_GUARD_ADDRESS=0x0D927Df3787FdBA7FCBB77f89411aEBef2383Edb

# Which agent to operate
TOKEN_ID=0
# Optional allowlist for multi-tenant mode (comma-separated token IDs).
# When empty, only TOKEN_ID is allowed by /enable and /strategy/upsert.
ALLOWED_TOKEN_IDS=0

# Runtime config
POLL_INTERVAL_MS=30000
TOKEN_LOCK_LEASE_MS=90000
MAX_RETRIES=3
LOG_LEVEL=info

# Optional auto-action (disabled by default)
AUTO_ACTION_ENABLED=false
AUTO_ACTION_TARGET=0x0000000000000000000000000000000000000000
AUTO_ACTION_DATA=0x
AUTO_ACTION_VALUE=0
MIN_ACTION_INTERVAL_MS=300000
REQUIRE_POSITIVE_BALANCE=true
STRATEGY_MAX_FAILURES_DEFAULT=5
# Optional local capability pack JSON path (used by /strategy/load-pack).
CAPABILITY_PACK_PATH=
# Optional PEM public key for capability-pack signature verification.
CAPABILITY_PACK_PUBLIC_KEY=
# If true, /strategy/load-pack requires a valid signature.
CAPABILITY_PACK_REQUIRE_SIGNATURE=false

# Optional default per-strategy daily budget (0 = unlimited).
DEFAULT_MAX_RUNS_PER_DAY=0
DEFAULT_MAX_VALUE_PER_DAY=0

# Optional market signal source sync (phase-2).
MARKET_SIGNAL_SYNC_ENABLED=false
MARKET_SIGNAL_SOURCE_URL=
MARKET_SIGNAL_SOURCE_API_KEY=
MARKET_SIGNAL_SOURCE_AUTH_HEADER=x-api-key
MARKET_SIGNAL_SOURCE_NAME=source-sync
MARKET_SIGNAL_SYNC_INTERVAL_MS=15000
MARKET_SIGNAL_SOURCE_TIMEOUT_MS=8000

# Control API
API_HOST=0.0.0.0
API_PORT=8787
API_KEY=

# PostgreSQL store (preferred: DATABASE_URL)
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/shll_runner
# Alternative fields if DATABASE_URL is empty
PGHOST=127.0.0.1
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=shll_runner
PG_SSL=false
PG_POOL_MAX=10

# Store retention
MAX_RUN_RECORDS=1000
STATUS_RUNS_LIMIT=20
